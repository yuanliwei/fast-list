<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
    <title>DEMO V2</title>
    <style media="screen">
      html, body{
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid h-100">
      <div class="row h-100" id="list">

      </div>
    </div>
  </body>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  <script src="./js/FastListV2.js" charset="utf-8"></script>
  <script type="text/javascript">
    let dom = document.querySelector('#list')
    var list = new FastList(dom)
    list.setHandler({
      createViewHolder: (type)=>{
        let view
        switch (type) {
          case 'head':
          view = $(`<div class="pt-1 col-12"><div class="alert alert-primary" role="alert">
                      <b></b>
                      <span>A simple primary alert—check it out!</span>
                    </div></div>`)
            return {
              dom: view[0],
              num: view.find('b'),
              name: view.find('span')
            }
          default:
            view = $(`<div class="pt-1 col-12"><div class="alert alert-success" role="alert">
                        <b></b>
                        <span>A simple success alert—check it out!</span>
                      </div></div>`)
            return {
              dom: view[0],
              num: view.find('b'),
              name: view.find('span')
            }
        }
      },
      bindData: (type, position, holder, data)=>{
        holder.num.text(position)
        holder.name.text(data.name)
      }
    })
    var datas = []
    datas.push({
      type: 'head',
      index: '000',
      name: 'name:head'
    })
    for (var i = 0; i < 100000; i++) {
      datas.push({
        type: 'item',
        index: i,
        name: 'name:'+i
      })
    }
    list.setDatas(datas)
  </script>
</html>
